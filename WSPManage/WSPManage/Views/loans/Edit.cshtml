@model WSPManage.Models.loan

@{
    ViewBag.Title = "Edit Loan";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Edit Loan #@Html.ValueFor(model => model.loanID)</h2>

<div>
    @Html.ActionLink("Back to Loans", "Index")
</div>

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <div class="form-horizontal">
        
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        @Html.HiddenFor(model => model.loanID)
        
        <p class="custom-form-section-header">Primary Loan Information</p>

        <div class="form-group">
            @Html.LabelFor(model => model.Active, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                <div class="checkbox">
                    @Html.EditorFor(model => model.Active)
                    @Html.ValidationMessageFor(model => model.Active, "", new { @class = "text-danger" })
                </div>
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.customerID, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-4">
                @Html.DropDownListFor(model => model.customerID, ViewBag.customerIDSelectList as IEnumerable<SelectListItem>, new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.customerID, "", new { @class = "text-danger" })
            </div>
            @Html.LabelFor(model => model.propertyID, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-4">
                @Html.DropDownListFor(model => model.propertyID, ViewBag.propertyIDSelectList as IEnumerable<SelectListItem>, new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.propertyID, "", new { @class = "text-danger" })
            </div>
        </div>
        
        <p class="custom-form-section-header">Loan Closing Information</p>

        <div class="form-group">
            @Html.LabelFor(model => model.SalePrice, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-4">
                @Html.EditorFor(model => model.SalePrice, new { htmlAttributes = new { @class = "form-control currency-mask" } })
                @Html.ValidationMessageFor(model => model.SalePrice, "", new { @class = "text-danger" })
            </div>
            @Html.LabelFor(model => model.DownPayment, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-4">
                @Html.EditorFor(model => model.DownPayment, new { htmlAttributes = new { @class = "form-control currency-mask" } })
                @Html.ValidationMessageFor(model => model.DownPayment, "", new { @class = "text-danger" })
            </div>
        </div>
        
        <div class="form-group">
            @Html.LabelFor(model => model.ContractDate, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-4">
                @Html.EditorFor(model => model.ContractDate, new { htmlAttributes = new { @class = "form-control date-picker" } })
                @Html.ValidationMessageFor(model => model.ContractDate, "", new { @class = "text-danger" })
            </div>
            @Html.LabelFor(model => model.ClosingDate, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-4">
                @Html.EditorFor(model => model.ClosingDate, new { htmlAttributes = new { @class = "form-control date-picker" } })
                @Html.ValidationMessageFor(model => model.ClosingDate, "", new { @class = "text-danger" })
            </div>
        </div>
        
        <p class="custom-form-section-header">Loan Data</p>

        <div class="form-group">
            @Html.LabelFor(model => model.LoanAmount, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-4">
                @Html.EditorFor(model => model.LoanAmount, new { htmlAttributes = new { @class = "form-control currency-mask" } })
                @Html.ValidationMessageFor(model => model.LoanAmount, "", new { @class = "text-danger" })
            </div>
            @Html.LabelFor(model => model.InterestRate, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-4">
                @Html.EditorFor(model => model.InterestRate, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.InterestRate, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="form-group">
            @Html.LabelFor(model => model.Period, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-4">
                @Html.EditorFor(model => model.Period, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.Period, "", new { @class = "text-danger" })
            </div>
            @Html.LabelFor(model => model.Payment, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-4">
                @Html.EditorFor(model => model.Payment, new { htmlAttributes = new { @class = "form-control" }, disabled = "disabled", @readonly = "readonly" })
                @Html.ValidationMessageFor(model => model.Payment, "", new { @class = "text-danger" })
            </div>
        </div>


        <div class="form-group">
            @Html.LabelFor(model => model.FirstPaymentDate, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-4">
                @Html.EditorFor(model => model.FirstPaymentDate, new { htmlAttributes = new { @class = "form-control date-picker" } })
                @Html.ValidationMessageFor(model => model.FirstPaymentDate, "", new { @class = "text-danger" })
            </div>
            @Html.LabelFor(model => model.ValueToCalc, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-4">
                @Html.EditorFor(model => model.ValueToCalc, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.ValueToCalc, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.LoanNotes, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-8">
                @Html.EditorFor(model => model.LoanNotes, new { htmlAttributes = new { @class = "form-control customer-notes", @rows = "10", tabindex = "20" } })
                @Html.ValidationMessageFor(model => model.LoanNotes, "", new { @class = "text-danger" })
            </div>
        </div>
        
        <p class="custom-form-section-header">Loan Status</p>
        
        <p class="custom-form-section-header">Loan Legal Activity</p>
        
    <div class="form-group">
        @Html.LabelFor(model => model.ActionInProgress, htmlAttributes: new { @class = "control-label col-md-2" })
        <div class="col-md-2">
            <div class="checkbox">
                @Html.EditorFor(model => model.ActionInProgress)
                @Html.ValidationMessageFor(model => model.ActionInProgress, "", new { @class = "text-danger" })
            </div>
        </div>
           
    </div>
    
    <div class="form-group">
        @Html.LabelFor(model => model.ActionInProgressCounty, htmlAttributes: new { @class = "control-label col-md-2" })
        <div class="col-md-2">
            @Html.EditorFor(model => model.ActionInProgressCounty, new { htmlAttributes = new { @class = "form-control", tabindex = "1" } })
            @Html.ValidationMessageFor(model => model.ActionInProgressCounty, "", new { @class = "text-danger" })
        </div>
        @Html.LabelFor(model => model.TenDayDate, htmlAttributes: new {@class = "control-label col-md-2"})
        <div class="col-md-2">
            @Html.EditorFor(model => model.TenDayDate, new {htmlAttributes = new {@class = "form-control date-picker"}})
            @Html.ValidationMessageFor(model => model.TenDayDate, "", new {@class = "text-danger"})
        </div>
    </div>
    <div class="form-group">
        @Html.LabelFor(model => model.NoticeOfPub, htmlAttributes: new {@class = "control-label col-md-2"})
        <div class="col-md-2">
            @Html.EditorFor(model => model.NoticeOfPub, new {htmlAttributes = new {@class = "form-control date-picker"}})
            @Html.ValidationMessageFor(model => model.NoticeOfPub, "", new {@class = "text-danger"})
        </div>
        @Html.LabelFor(model => model.FirstPubDate, htmlAttributes: new {@class = "control-label col-md-2"})
        <div class="col-md-2">
            @Html.EditorFor(model => model.FirstPubDate, new {htmlAttributes = new {@class = "form-control date-picker"}})
            @Html.ValidationMessageFor(model => model.FirstPubDate, "", new {@class = "text-danger"})
        </div>
    </div> 
                
    <div class="form-group">
        @Html.LabelFor(model => model.Bankruptcy, htmlAttributes: new { @class = "control-label col-md-2" })
        <div class="col-md-2">
            <div class="checkbox">
                @Html.EditorFor(model => model.Bankruptcy)
                @Html.ValidationMessageFor(model => model.Bankruptcy, "", new { @class = "text-danger" })
            </div>
        </div>
    </div>
            
    <div class="form-group">
        @Html.LabelFor(model => model.SaleDate, htmlAttributes: new { @class = "control-label col-md-2" })
        <div class="col-md-2">
            @Html.EditorFor(model => model.SaleDate, new { htmlAttributes = new { @class = "form-control date-picker" } })
            @Html.ValidationMessageFor(model => model.SaleDate, "", new { @class = "text-danger" })
        </div>
        @Html.LabelFor(model => model.AgreeToCont, htmlAttributes: new { @class = "control-label col-md-2" })
        <div class="col-md-2">
            @Html.EditorFor(model => model.AgreeToCont, new { htmlAttributes = new { @class = "form-control date-picker" } })
            @Html.ValidationMessageFor(model => model.AgreeToCont, "", new { @class = "text-danger" })
        </div>
        @Html.LabelFor(model => model.NewSaleDate, htmlAttributes: new { @class = "control-label col-md-2" })
        <div class="col-md-2">
            @Html.EditorFor(model => model.NewSaleDate, new { htmlAttributes = new { @class = "form-control date-picker" } })
            @Html.ValidationMessageFor(model => model.NewSaleDate, "", new { @class = "text-danger" })
        </div>
    </div>
    
    <div class="form-group">
        @Html.LabelFor(model => model.Judgement, htmlAttributes: new { @class = "control-label col-md-2" })
        <div class="col-md-2">
            <div class="checkbox">
                @Html.EditorFor(model => model.Judgement)
                @Html.ValidationMessageFor(model => model.Judgement, "", new { @class = "text-danger" })
            </div>
        </div>
    </div>
            
    <div class="form-group">
        @Html.LabelFor(model => model.TwentyDayDate, htmlAttributes: new { @class = "control-label col-md-2" })
        <div class="col-md-2">
            @Html.EditorFor(model => model.TwentyDayDate, new { htmlAttributes = new { @class = "form-control date-picker" } })
            @Html.ValidationMessageFor(model => model.TwentyDayDate, "", new { @class = "text-danger" })
        </div>
        @Html.LabelFor(model => model.UdrpSentOut, htmlAttributes: new { @class = "control-label col-md-2" })
        <div class="col-md-2">
            @Html.EditorFor(model => model.UdrpSentOut, new { htmlAttributes = new { @class = "form-control date-picker" } })
            @Html.ValidationMessageFor(model => model.UdrpSentOut, "", new { @class = "text-danger" })
        </div>
        @Html.LabelFor(model => model.CourtDate, htmlAttributes: new { @class = "control-label col-md-2" })
        <div class="col-md-2">
            @Html.EditorFor(model => model.CourtDate, new { htmlAttributes = new { @class = "form-control date-picker" } })
            @Html.ValidationMessageFor(model => model.CourtDate, "", new { @class = "text-danger" })
        </div>
    </div>
            

    <div class="form-group">
        @Html.LabelFor(model => model.AgreeToVacate, htmlAttributes: new { @class = "control-label col-md-2" })
        <div class="col-md-2">
            @Html.EditorFor(model => model.AgreeToVacate, new { htmlAttributes = new { @class = "form-control date-picker" } })
            @Html.ValidationMessageFor(model => model.AgreeToVacate, "", new { @class = "text-danger" })
        </div>
        @Html.LabelFor(model => model.WritDate, htmlAttributes: new { @class = "control-label col-md-2" })
        <div class="col-md-2">
            @Html.EditorFor(model => model.WritDate, new { htmlAttributes = new { @class = "form-control date-picker" } })
            @Html.ValidationMessageFor(model => model.WritDate, "", new { @class = "text-danger" })
        </div>
        @Html.LabelFor(model => model.EvictionDate, htmlAttributes: new { @class = "control-label col-md-2" })
        <div class="col-md-2">
            @Html.EditorFor(model => model.EvictionDate, new { htmlAttributes = new { @class = "form-control date-picker" } })
            @Html.ValidationMessageFor(model => model.EvictionDate, "", new { @class = "text-danger" })
        </div>
               
    </div>

        <div class="form-group">
            @Html.HiddenFor(model => model.DateCreated, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.DateCreated, "", new { @class = "text-danger" })
        </div>
        <div class="form-group">
            @Html.HiddenFor(model => model.UserCreated, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.UserCreated, "", new { @class = "text-danger" })
        </div>
        <div class="form-group">
            @Html.HiddenFor(model => model.DateModified, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.DateModified, "", new { @class = "text-danger" })
        </div>
        <div class="form-group">
            @Html.HiddenFor(model => model.UserModified, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.UserModified, "", new { @class = "text-danger" })
        </div>


        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="Save" class="btn btn-default" />
            </div>
        </div>
    </div>
}

<hr />

<p style="text-align: right;">
    Modified on <font color="red">@Html.ValueFor(model => model.DateModified)</font> by <font color="red">@Html.ValueFor(model => model.UserModified)</font> <br />
    Created on <font color="red">@Html.ValueFor(model => model.DateCreated)</font> by <font color="red">@Html.ValueFor(model => model.UserCreated)</font>
</p>

<hr />

<div>
    @Html.ActionLink("Back to Loans", "Index")
</div>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}